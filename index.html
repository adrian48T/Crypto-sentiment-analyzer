<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Crypto Sentiment Dashboard</title>
  <style>
    body{font-family:Inter, Arial, sans-serif; margin:0; background:#f7f9fc; color:#111}
    header{background:#0b66c3; color:white; padding:20px 24px; text-align:center; font-weight:800; font-size:28px; letter-spacing:0.5px}
    .container{display:flex; gap:20px; padding:24px; max-width:1100px; margin:20px auto}
    .ad{width:160px; background:#fff; border:1px dashed #cfd8e3; display:flex; align-items:center; justify-content:center; padding:12px; min-height:200px}
    .main{flex:1; background:#fff; padding:16px; border-radius:8px; box-shadow:0 2px 6px rgba(10,20,50,0.05)}
    .article{border-bottom:1px solid #eef3fb; padding:12px 0}
    .score{float:right; font-weight:700}
  </style>
</head>
<body>
  <header>Crypto Sentiment Dashboard</header>
  <div class="container">
    <div class="ad">Ad space</div>
    <div class="main">
      <h2>Latest crypto news</h2>
      <div id="list">Loading...</div>
    </div>
    <div class="ad">Ad space</div>
  </div>
  <script>
    fetch('/api/articles').then(r=>r.json()).then(data=>{
      const holder=document.getElementById('list');
      if(!data||data.length===0){ holder.innerText='No articles yet (scraping in progress)'; return; }
      holder.innerHTML = data.map(a=>`<div class="article"><a href="${a.url}" target="_blank" rel="noreferrer">${a.title}</a><span class="score">${a.sentiment_label} (${Number(a.sentiment_score).toFixed(2)})</span></div>`).join('');
    }).catch(e=>{ document.getElementById('list').innerText='Error loading articles' });
  </script>
</body>
</html>
